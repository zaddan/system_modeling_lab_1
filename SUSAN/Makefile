CC = gcc
CMP = diff -s
RM  = rm -rf

GOLDFILE = golden.pgm
INFILE =   input_small.pgm    
OUTFILE =  output_edge.pgm

#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# ---- for compiling
#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# ---- the original make command
susan: susan.c Makefile
	$(CC) -static -O4 -o susan susan.c -lm  -g 

# ---- allows for debugging 
susan_debug: susan.c Makefile
	$(CC) -static -O4 -o susan susan.c -lm  -g  -v -da -Q



#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# ---- for running
#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# ---- for debugging in gdb
run_debug:
	gdb --args ./susan $(INFILE) $(OUTFILE) -e 

# ---- running the code with edth dietction simply
run:
	./susan $(INFILE) $(OUTFILE) -e 
	$(CMP) $(OUTFILE) $(GOLDFILE)

# ---- copy of the run:
test:
	./susan $(INFILE) $(OUTFILE) -e 
	$(CMP) $(OUTFILE) $(GOLDFILE)


#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
# ---- house keeping
#------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
clean:
	$(RM) susan $(OUTFILE)
